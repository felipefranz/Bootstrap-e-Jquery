!function(a){function i(a,b,c){this.dec=a,this.group=b,this.neg=c}function j(){for(var a=0;a<h.length;a++)for(var c=h[a],d=0;d<c.length;d++)b.put(c[d],a)}function k(a,c){0==b.size()&&j();var d=".",e=",",f="-";0==c&&(a.indexOf("_")!=-1?a=a.split("_")[1].toLowerCase():a.indexOf("-")!=-1&&(a=a.split("-")[1].toLowerCase()));var h=b.get(a);if(h){var k=g[h];k&&(d=k[0],e=k[1])}return new i(d,e,f)}var b=new Hashtable,c=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],d=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],e=["bg","cz","fi","fr","no","pl","ru","se"],f=["ch"],g=[[".",","],[",","."],[","," "],[".","'"]],h=[c,d,e,f];a.fn.formatNumber=function(b,c,d){return this.each(function(){null==c&&(c=!0),null==d&&(d=!0);var e;e=a(this).is(":input")?new String(a(this).val()):new String(a(this).text());var f=a.formatNumber(e,b);if(c&&(a(this).is(":input")?a(this).val(f):a(this).text(f)),d)return f})},a.formatNumber=function(b,c){for(var c=a.extend({},a.fn.formatNumber.defaults,c),d=k(c.locale.toLowerCase(),c.isFullLocale),h=(d.dec,d.group,d.neg,"0#-,."),i="",j=!1,l=0;l<c.format.length;l++){if(h.indexOf(c.format.charAt(l))!=-1){if(0==l&&"-"==c.format.charAt(l)){j=!0;continue}break}i+=c.format.charAt(l)}for(var m="",l=c.format.length-1;l>=0&&h.indexOf(c.format.charAt(l))==-1;l--)m=c.format.charAt(l)+m;c.format=c.format.substring(i.length),c.format=c.format.substring(0,c.format.length-m.length);var n=new Number(b);return a._formatNumber(n,c,m,i,j)},a._formatNumber=function(b,c,d,e,f){var c=a.extend({},a.fn.formatNumber.defaults,c),g=k(c.locale.toLowerCase(),c.isFullLocale),h=g.dec,i=g.group,j=g.neg;null!=c.overrideGroupSep&&(i=c.overrideGroupSep),null!=c.overrideDecSep&&(h=c.overrideDecSep),null!=c.overrideNegSign&&(j=c.overrideNegSign);var l=!1;if(isNaN(b)){if(1!=c.nanForceZero)return"";b=0,l=!0}(1==c.isPercentage||c.autoDetectPercentage&&"%"==d.charAt(d.length-1))&&(b=100*b);var m="";if(c.format.indexOf(".")>-1){var n=h,o=c.format.substring(c.format.lastIndexOf(".")+1);if(1==c.round)b=new Number(b.toFixed(o.length));else{var p=b.toString();p.lastIndexOf(".")>0&&(p=p.substring(0,p.lastIndexOf(".")+o.length+1)),b=new Number(p)}var q=new Number(b.toString().substring(b.toString().indexOf(".")));decimalString=new String(q.toFixed(o.length)),decimalString=decimalString.substring(decimalString.lastIndexOf(".")+1);for(var r=0;r<o.length;r++)if("#"!=o.charAt(r)||"0"==decimalString.charAt(r)){if("#"==o.charAt(r)&&"0"==decimalString.charAt(r)){var s=decimalString.substring(r);if(s.match("[1-9]")){n+=decimalString.charAt(r);continue}break}"0"==o.charAt(r)&&(n+=decimalString.charAt(r))}else n+=decimalString.charAt(r);m+=n}else b=Math.round(b);var t=Math.floor(b);b<0&&(t=Math.ceil(b));var u="";u=c.format.indexOf(".")==-1?c.format:c.format.substring(0,c.format.indexOf("."));var v="";if(0!=t||"#"!=u.substr(u.length-1)||l){var w=new String(Math.abs(t)),x=9999;u.lastIndexOf(",")!=-1&&(x=u.length-u.lastIndexOf(",")-1);for(var y=0,r=w.length-1;r>-1;r--)v=w.charAt(r)+v,y++,y==x&&0!=r&&(v=i+v,y=0);if(u.length>v.length){var z=u.indexOf("0");if(z!=-1)for(var A=u.length-z,B=u.length-v.length-1;v.length<A;){var C=u.charAt(B);","==C&&(C=i),v=C+v,B--}}}return v||u.indexOf("0",u.length-1)===-1||(v="0"),m=v+m,b<0&&f&&e.length>0?e=j+e:b<0&&(m=j+m),c.decimalSeparatorAlwaysShown||m.lastIndexOf(h)==m.length-1&&(m=m.substring(0,m.length-1)),m=e+m+d},a.fn.parseNumber=function(b,c,d){null==c&&(c=!0),null==d&&(d=!0);var e;e=a(this).is(":input")?new String(a(this).val()):new String(a(this).text());var f=a.parseNumber(e,b);if(f&&(c&&(a(this).is(":input")?a(this).val(f.toString()):a(this).text(f.toString())),d))return f},a.parseNumber=function(b,c){var c=a.extend({},a.fn.parseNumber.defaults,c),d=k(c.locale.toLowerCase(),c.isFullLocale),e=d.dec,f=d.group,g=d.neg;null!=c.overrideGroupSep&&(f=c.overrideGroupSep),null!=c.overrideDecSep&&(e=c.overrideDecSep),null!=c.overrideNegSign&&(g=c.overrideNegSign);for(var h="1234567890",i=".-",j=c.strict;b.indexOf(f)>-1;)b=b.replace(f,"");b=b.replace(e,".").replace(g,"-");var l="",m=!1;(1==c.isPercentage||c.autoDetectPercentage&&"%"==b.charAt(b.length-1))&&(m=!0);for(var n=0;n<b.length;n++)if(h.indexOf(b.charAt(n))>-1)l+=b.charAt(n);else if(i.indexOf(b.charAt(n))>-1)l+=b.charAt(n),i=i.replace(b.charAt(n),"");else{if(c.allowPostfix)break;if(j){l="NaN";break}}var o=new Number(l);if(m){o/=100;var p=l.indexOf(".");if(p!=-1){var q=l.length-p-1;o=o.toFixed(q+2)}else o=o.toFixed(2)}return o},a.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:!1,isPercentage:!1,autoDetectPercentage:!0,isFullLocale:!1,strict:!1,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,allowPostfix:!1},a.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1,nanForceZero:!0,round:!0,isFullLocale:!1,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,isPercentage:!1,autoDetectPercentage:!0},Number.prototype.toFixed=function(b){return a._roundNumber(this,b)},a._roundNumber=function(a,b){var c=Math.pow(10,b||0),d=String(Math.round(a*c)/c);if(b>0){var e=d.indexOf(".");for(e==-1?(d+=".",e=0):e=d.length-(e+1);e<b;)d+="0",e++}return d}}(jQuery);